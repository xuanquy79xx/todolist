<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"></script>
    <!-- css -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">

    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>

    <style>
        #carouselId img {
            width: 100%;
        }

        .carousel-caption {
            text-shadow: 0 0 12px black;
        }

        ul li {
            margin: 1rem;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-sm navbar-dark bg-primary">
        <a class="navbar-brand" href="#">Navbar</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive">he</button>
        <div id="navbarResponsive" class="collapse navbar-collapse">
            <ul class="navbar-nav">
                <li class="nav-item"> <a href="#" class="nav-link active">Home</a></li>
                <li class="nav-item"> <a href="#" class="nav-link">About</a></li>
                <li class="nav-item"> <a href="#" class="nav-link">Hello</a></li>
            </ul>
        </div>
        </div>
    </nav>

    <div id="carouselId" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
            <li data-target="#carouselId" data-slide-to="0" class="active"></li>
            <li data-target="#carouselId" data-slide-to="1"></li>
            <li data-target="#carouselId" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner" role="listbox">
            <div class="carousel-item active">
                <img src="./images/3.jpg" alt="First slide">
                <div class="carousel-caption d-none d-md-block">
                    <h3>Title</h3>
                    <p>Description</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="./images/3.jpg" alt="Second slide">
                <div class="carousel-caption d-none d-md-block">
                    <h3>Title</h3>
                    <p>Description</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="./images/3.jpg" alt="Third slide">
                <div class="carousel-caption d-none d-md-block">
                    <h3>Title</h3>
                    <p>Description</p>
                </div>
            </div>
        </div>
        <a class="carousel-control-prev" href="#carouselId" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselId" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>

    <!-- jumbo -->
    <div class="jumbotron">
        <h1 class="display-3">Jumbo heading</h1>
        <p class="lead">Jumbo helper text</p>
        <hr class="my-2">

        <button class="btn btn-primary btn-lg " data-toggle="collapse" data-target="#demo">Collapsible</button>

        <div id="demo" class="collapse">
            Lorem ipsum dolor text....
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-md-12 col-lg-6">
                <h2>hello world</h2>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Impedit, sit ea aspernatur aperiam explicabo
                    iusto praesentium assumenda, non, vero nam dignissimos facere! Quidem aut fugit voluptatum enim
                    libero blanditiis officiis.</p>
                <div class="alert alert-warning">
                    <button type="button" class="close" data-dismiss="alert">&times;</button>
                    <strong>hello</strong>
                    <p>this is a warning!!</p>
                </div>
            </div>
            <div class="col-md-12 col-lg-6">
                <img src="./images/2.jpg" class="img-fluid" alt="img">
            </div>
        </div>
    </div>
    <br />
    <div class="container">
        <h3 align="center" class="mr-10">Add todo list </h3>
        <div class="row">
            <div class="col-md-6 col-12">
                <label for="todo">Create : </label> <br />
                <input id="todo" type="text" placeholder=".." value="">
                <button id="create" class="btn btn-outline-success">add</button>
                <br />
                <br />
                <div id="showAlert">
                </div>
                <!-- <button id="callback" class="btn btn-outline-success">click callback</button> -->
            </div>
            <div class="col-md-6 col-12">
                <ul id="showList">
                </ul>
            </div>
        </div>

        <!-- <div class="content">
            <div class="child"></div>
            <div class="child"></div>
            <div class="child"></div>
        </div>
        <div contenteditable="true">
            <p>contenteditable cho phép thay đổi text</p>
        </div>
        <a href="#" download="khucxuanquy.pdf">
            dowload cho phép dowload tài liệu
        </a>
        <br />
        <input list="languages" placeholder="Choose language" />
        <datalist id="languages">
            <option>Python</option>
            <option>Javascript</option>
            <option>Java</option>
        </datalist>
        <br />
        <label for="download">Download Progress</label>
        <progress id="download" max="100" value="50">
        </progress>
        <br />
        <button id="btn_temp" class="btn btn-outline-success">click Meter tag</button>
        <meter id="temp" min="0" max="100" low="40" high="60" optimum="80" value="10">
        </meter> -->
        <script>
            let btn = document.getElementById("btn_temp");
            let checked = true;
            btn.addEventListener('click', () => {
                if (checked) {
                    checked = false;
                    let getMeter = document.getElementById("temp");
                    let x = 0;
                    let inter = setInterval(function () {
                        getMeter.value = x
                        x += 2
                        if (x >= 100) {
                            clearInterval(inter)
                            checked = true;
                            console.log("finish!")
                        }
                    }, 100);
                }
            })


        </script>



        <br />
        <!-- <input id="color" type="color" value="red"> -->
    </div>







    <script>
        'strict'
        let Data = JSON.parse(localStorage.getItem('todolist')) || []
        // let Data =[]
        let checkEdit = false;
        let itemData = null;
        let resetForm = () => {
            document.getElementById("todo").value = "";
            document.getElementById("create").innerHTML = 'add';
            checkEdit = false;
            itemData = null;
        }
        function showAlert(content) {
            document.getElementById("showAlert").innerHTML = `
                <div class="alert alert-success">
                    <p>${content}</p>
                </div>
            `
            setTimeout(() => {
                document.getElementById("showAlert").innerHTML = ''
            }, 1000);
        }
        document.getElementById("create").addEventListener('click', function () {
            let value = document.getElementById("todo").value;

            if (checkEdit) {
                Data[itemData] = value;
                showDataOnScreen(value)
                resetForm()
                localStorage.setItem('todolist', JSON.stringify(Data))
                showAlert(" Sửa Thành Công ")

            } else {
                if (value !== '') {
                    Data.push(value)
                    showDataOnScreen(value)
                    resetForm()
                    localStorage.setItem('todolist', JSON.stringify(Data))
                    showAlert(" Thêm Thành Công ")
                } else {
                    showAlert('Ơ, bạn chưa ghi gì à ??')
                }
                // this.innerHTML = `add`
            }
        })
        function Edit(numb) {
            checkEdit = true;
            itemData = numb;
            document.getElementById("todo").value = Data[numb]
            document.getElementById("create").innerHTML = `edit`

        }
        function Delete(numb) {
            Data.splice(numb, 1)
            showAlert(" Xóa Thành Công ")
            localStorage.setItem('todolist', JSON.stringify(Data))
            showDataOnScreen()
        }

        function showDataOnScreen(value) {
            let html = '';
            for (const i in Data) {
                html += ` 
               <li class='li__list'>${Data[i]}
                    <button class="btn btn-outline-success" onclick="Edit(${i})" >edit</button>
                    <button class="btn btn-outline-danger"  onclick="Delete(${i})">delete</button>
                </li>
               `
            }
            document.getElementById('showList').innerHTML = html;
            /* 
            let el = document.getElementById('showList')
            el.insertAdjacentHTML('beforeend',`<li>${value} </li>`)
            */
        }

        if (Data !== []) {
            showDataOnScreen()
        }



        document.getElementById("callback").addEventListener('click', () => {
            getData(function () {
                alert("finish")
            })
        })
        function getData(func) {
            setTimeout(() => {
                func()
                showAlert("callback finished ! ")
            }, 1000);
        }
        async function serverRequest(string, callback) {
            // fetch('https://5e1ad72931118200148f22f9.mockapi.io/api/users')
            //     .then(data => data.json())
            //     .then(data => {
            //         let str = string+ "finish :: " + data[0].name
            //         callback(str)
            //     })

            // await setTimeout(() => {
            //     callback(string + "finished!")
            // }, 1000);

            await callback(string + "finished!")

        }
        function getResults(res) {
            console.log(res)
        }
        //serverRequest("callback :: ", getResults)



        // thuat toan
        function convertStr(str) {
            let result = ""
            let obj = {};
            let Arr_Str = str.toLowerCase().split("");
            for (let i in Arr_Str) {
                obj[Arr_Str[i]] ? obj[Arr_Str[i]]++ : obj[Arr_Str[i]] = 1;
            }
            for (let i in obj) {
                result += `${i}-${obj[i]} `;
            }
            // console.log(obj, result)
        }
        convertStr("aBcAAbc") //a-3 b-2 c-2


        let removeDuplicates = function (numb) {
            let obj = {}
            let arr = []
            for (let i in numb) {
                if (obj[numb[i]]) {
                    continue;
                } else {
                    obj[numb[i]] = 1;
                }
            }
            for (const i in obj) {
                arr.push(parseInt(i))
            }
            return arr;

        };

        removeDuplicates([1, 1, 2])

        function singleNumber(numb) {
            return numb.reduce(
                (a, b) => a ^ b);

        }
        // console.log(singleNumber([1, 2, 3, 1, 2, 4, 3]))

        function reverseString(str) {
            let newStr = '';
            for (let i = str.length - 1; i >= 0; i--) {
                newStr += str[i]
            }
            console.log(newStr)
        }
        // reverseString("abacsa")

        function checkReverseNumber(nums) {
            let numb = nums.toString();
            let newNumb = '';
            for (const i in numb) {
                newNumb += numb[numb.length - 1 - i]
            }
            if (newNumb === numb) {
                return true
            }
            else return false;
        }
        // console.log(checkReverseNumber(121))

    </script>


    <footer>
        <div style="margin: 10rem;"></div>
    </footer>
</body>

</html>